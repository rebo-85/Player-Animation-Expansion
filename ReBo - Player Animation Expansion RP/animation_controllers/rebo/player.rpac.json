{
    "format_version": "1.10.0",
    "animation_controllers": {
        "controller.animation.rebo.player.root": {
            "initial_state": "default",
            "states": {
                "default": {
                    "animations": [
                        {"ac.move.ground": "q.is_on_ground"},
                        "a.look_at_target",
                        "ac.jump",
                        "ac.sneak",
                        "ac.punch"
                    ]
                }
            }
        },
        "controller.animation.rebo.player.sneak": {
            "initial_state": "default",
            "states": {
                "default": {
                    "on_exit": [
                        "v.sneak_side = v.random_side;"
                    ],
                    "blend_transition": 0.1,
                    "transitions": [
                        { "sneak": "q.is_sneaking"}
                    ]
                },
                "sneak": {
                    "animations": [
                        { "a.sneak.right": "v.sneak_side == 'right'" },
                        { "a.sneak.left": "v.sneak_side == 'left'" }
                    ],
                    "blend_transition": 0.1,
                    "transitions": [
                        { "default": "!q.is_sneaking"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.idle": {
            "initial_state": "default",
            "states": {
                "default": {
                    "on_entry": [
                        "v.idling_start_time = q.life_time;"
                    ],
                    "blend_transition": 0.1,
                    "transitions": [
                        { "idle": "v.idling_start_time + v.inactive_timer < q.life_time"}
                    ]
                },
                "idle": {
                   
                    "blend_transition": 0.1,
                    "transitions": [
                        { "default": "q.is_moving || v.attack_time > 0"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.jump": {
            "initial_state": "default",
            "states": {
                "default": {
                    "blend_transition": 0.2,
                    "transitions": [
                        { "lift": "q.is_jumping"},
                        { "fall": "q.vertical_speed < 0"}
                    ]
                },
                "lift": {
                    "animations": [
                        { "a.jump.lift.right": "v.jump_side == 'right'" },
                        { "a.jump.lift.left": "v.jump_side == 'left'" }
                    ],
                    "blend_transition": 1.0,
                    "transitions": [
                        { "fall": "q.vertical_speed < 0"}
                    ]
                },
                "fall": {
                    "animations": [
                        { "a.jump.fall.right": "v.jump_side == 'right'" },
                        { "a.jump.fall.left": "v.jump_side == 'left'" }
                    ],
                    "blend_transition": 0.1,
                    "transitions": [
                        { "lift": "q.vertical_speed > 0"},
                        { "land": "q.is_on_ground"}
                    ]
                },
                "land": {
                    "animations": [
                        { "a.jump.land.right": "v.jump_side == 'right'" },
                        { "a.jump.land.left": "v.jump_side == 'left'" }
                    ],
                    "blend_transition": 0.1,
                    "on_exit": [
                        "v.jump_side = v.random_side;"
                    ],
                    "transitions": [
                        { "default": "q.all_animations_finished"},
                        { "lift": "q.is_jumping"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.punch": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        { "right": "v.attack_time > 0 && v.random_side == 'right'"},
                        { "left": "v.attack_time > 0 && v.random_side == 'left'"}
                    ]
                },
                "right": {
                    "animations": [
                        "a.punch.right"
                    ],
                    "blend_transition": 0.2,
                    "transitions": [
                        { "left": "q.all_animations_finished"},
                        { "default": "!v.attack_time > 0"}
                    ]
                },
                "left": {
                    "animations": [
                        "a.punch.left"
                    ],
                    "blend_transition": 0.2,
                    "transitions": [
                        { "right": "q.all_animations_finished"},
                        { "default": "!v.attack_time > 0"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.move.ground": {
            "initial_state": "walk",
            "states": {
                "walk": {
                    "animations": [
                        "ac.move.walk"
                    ],
                    "transitions": [
                        { "sprint": "q.is_sprinting"}
                    ]
                },
                "sprint": {
                    "animations": [
                        "ac.move.sprint"
                    ],
                    "transitions": [
                        { "walk": "!q.is_sprinting"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.move.walk": {
            "initial_state": "default",
            "states": {
                "default": {
                    "transitions": [
                        { "right": "q.is_moving && v.random_side == 'right'"},
                        { "left": "q.is_moving && v.random_side == 'left'"}
                    ]
                },
                "right": {
                    "animations": [
                        "a.walk.right"
                    ],
                    "blend_transition": 0.2,
                    "transitions": [
                        { "left": "q.all_animations_finished"},
                        { "default": "!q.is_moving"}
                    ]
                },
                "left": {
                    "animations": [
                        "a.walk.left"
                    ],
                    "blend_transition": 0.2,
                    "transitions": [
                        { "right": "q.all_animations_finished"},
                        { "default": "!q.is_moving"}
                    ]
                }
            }
        },
        "controller.animation.rebo.player.move.sprint": {
            "initial_state": "default",
            "states": {
                "default": {
                    "blend_transition": 0.1,
                    "transitions": [
                        { "right": "q.is_moving && v.random_side == 'right'"},
                        { "left": "q.is_moving && v.random_side == 'left'"}
                    ]
                },
                "right": {
                    "animations": [
                        "a.sprint.right"
                    ],
                    "transitions": [
                        { "left": "q.all_animations_finished"},
                        { "default": "!q.is_moving"}
                    ]
                },
                "left": {
                    "animations": [
                        "a.sprint.left"
                    ],
                        "transitions": [
                        { "right": "q.all_animations_finished"},
                        { "default": "!q.is_moving"}
                    ]
                }
            }
        }
    }
}